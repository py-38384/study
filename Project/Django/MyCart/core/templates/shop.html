{% extends 'base.html' %} {% load static %} {% block nav %}
<a href="{% url 'home' %}" class="nav-item nav-link">Home</a>
<a href="{% url 'deals' %}" class="nav-item nav-link">Today's Deals</a>
<a href="{% url 'shop' %}" class="nav-item nav-link active">Shop</a>
<a href="{% url 'contact' %}" class="nav-item nav-link">Contact</a>
{% endblock %} {% block content %}
<!-- Breadcrumb Start -->

<!-- Breadcrumb End -->

<!-- Shop Start -->
<div class="container-fluid">
  
  <div class="row px-xl-5">
    <div class="col-lg-3 col-md-4">
      <!-- Price Start -->
      <h5 class="section-title position-relative text-uppercase mb-3"><span class="bg-secondary pr-3">Filter by price</span></h5>
      <div class="bg-light p-4 mb-30">
          <form>

              {% if price_range_value.1 %}
              <div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
                <input type="checkbox" class="custom-control-input price-checkbox" data-range="1" checked id="price-1">
                <label class="custom-control-label" for="price-1">$0 - $100</label>
              </div>
              {% else %}
              <div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
                <input type="checkbox" class="custom-control-input price-checkbox" data-range="1" id="price-1">
                <label class="custom-control-label" for="price-1">$0 - $100</label>
              </div>
              {% endif %}

              {% if price_range_value.2 %}
              <div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
                <input type="checkbox" class="custom-control-input price-checkbox" data-range="2" checked id="price-2">
                <label class="custom-control-label" for="price-2">$100 - $200</label>
              </div>
              {% else %}
              <div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
                <input type="checkbox" class="custom-control-input price-checkbox" data-range="2" id="price-2">
                <label class="custom-control-label" for="price-2">$100 - $200</label>
              </div>
              {% endif %}

              
              {% if price_range_value.3 %}
              <div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
                <input type="checkbox" class="custom-control-input price-checkbox" data-range="3" checked id="price-3">
                <label class="custom-control-label" for="price-3">$200 - $300</label>
              </div>
              {% else %}
              <div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
                <input type="checkbox" class="custom-control-input price-checkbox" data-range="3" id="price-3">
                <label class="custom-control-label" for="price-3">$200 - $300</label>
              </div>
              {% endif %}


              {% if price_range_value.4 %}
              <div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
                <input type="checkbox" class="custom-control-input price-checkbox" data-range="4" checked id="price-4">
                <label class="custom-control-label" for="price-4">$300 - $400</label>
              </div>
              {% else %}
              <div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
                <input type="checkbox" class="custom-control-input price-checkbox" data-range="4" id="price-4">
                <label class="custom-control-label" for="price-4">$300 - $400</label>
              </div>
              {% endif %}


              {% if price_range_value.5 %}
              <div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
                <input type="checkbox" class="custom-control-input price-checkbox" data-range="5" checked id="price-5">
                <label class="custom-control-label" for="price-5">$400 - $500</label>
              </div>
              {% else %}
              <div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
                <input type="checkbox" class="custom-control-input price-checkbox" data-range="5" id="price-5">
                <label class="custom-control-label" for="price-5">$400 - $500</label>
              </div>
              {% endif %}


              {% if price_range_value.6 %}
              <div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
                <input type="checkbox" class="custom-control-input price-checkbox" data-range="6" checked id="price-6">
                <label class="custom-control-label" for="price-6">$500--</label>
              </div>
              {% else %}
              <div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
                <input type="checkbox" class="custom-control-input price-checkbox" data-range="6" id="price-6">
                <label class="custom-control-label" for="price-6">$500--</label>
              </div>
              {% endif %}


          </form>
      </div>
  </div>
    <!-- Shop Product Start -->
    <div class="col-lg-9 col-md-8 product_div">
      <div class="row pb-3">
        <div class="col-12 pb-1">
          <div class="d-flex align-items-center justify-content-between mb-4">
            <div class="ml-2">
              <div class="btn-group">
                <button
                  type="button"
                  class="btn btn-sm btn-light dropdown-toggle"
                  data-toggle="dropdown"
                >
                  Sorting
                </button>
                <div class="dropdown-menu dropdown-menu-right">
                  <a class="dropdown-item" href="#">Latest</a>
                  <a class="dropdown-item" href="#">Best Rating</a>
                </div>
              </div>
              <div class="btn-group ml-2">
                <button
                  type="button"
                  class="btn btn-sm btn-light dropdown-toggle"
                  data-toggle="dropdown"
                >
                  Showing
                </button>
                <div class="dropdown-menu dropdown-menu-right">
                  <a class="dropdown-item" href="?limit=10">10</a>
                  <a class="dropdown-item" href="?limit=20">20</a>
                  <a class="dropdown-item" href="?limit=30">30</a>
                </div>
              </div>
            </div>
          </div>
        </div>


        {% for product in products %}
        <div class="col-lg-3 col-md-4 col-md-6 pb-1">
          <div class="product-item bg-light mb-4">
            <div class="product-img position-relative overflow-hidden">
              {% if product.image %}
              <img class="img-fluid w-100" src="/{{product.image}}/" alt="image" />
              {% else %}
              <img class="img-fluid w-100" src="{% static 'img/placeholder.jpg' %}" alt="image" />
              {% endif %}
              <div class="product-action">
                <a
                  class="btn btn-outline-dark btn-square update-cart"
                  data-product="{{product.id}}"
                  data-action="add"
                  ><i class="fa fa-shopping-cart"></i
                ></a>
                <a
                  class="btn btn-outline-dark btn-square update-cart"
                  href="{% url 'detail' product.id %}"
                  ><span class="material-symbols-outlined">
                    visibility
                  </span></a
                >
                <a class="btn btn-outline-dark btn-square"
                  ><i class="bx bxs-share"></i
                ></a>
              </div>
            </div>
            {% if product.discount %}
            <div class="product-discount">{{product.discount}}% off</div>
            {% endif %}
            <div class="text-center py-4">
              <a class="h6 text-decoration-none text-truncate" href=""
                >{{product.name}}</a
              >
              <div
                class="d-flex align-items-center justify-content-center mt-2"
              >
              {% if product.discount %}
              <h5>${{product.price}}</h5><h6 class="text-muted ml-2"><del>${{product.original_price}}</del></h6>
              {% else %}
              <h5>${{product.price}}</h5><h6 class="text-muted ml-2"><del></del></h6>
              {% endif %}
              </div>
              <div
                class="d-flex align-items-center justify-content-center mb-1"
              >
                <small class="fa fa-star text-primary mr-1"></small>
                <small class="fa fa-star text-primary mr-1"></small>
                <small class="fa fa-star text-primary mr-1"></small>
                <small class="fa fa-star text-primary mr-1"></small>
                <small class="fa fa-star text-primary mr-1"></small>
                <small>(0)</small>
              </div>
            </div>
          </div>
        </div>
        {% endfor %}

        <div class="col-12">
          <nav>
            {% if price_range %}
            <ul class="pagination justify-content-center">

              {% if pagenator_object.has_previous %}
              <li class="page-item">
                <a class="page-link" href="?page=1&price_range={{price_range}}">&larr; First</a>
              </li>
              <li class="page-item">
                <a class="page-link" href="?page={{pagenator_object.previous_page_number}}&price_range={{price_range}}">Previous</a>
              </li>
              {% endif %}

              {% for i in page_list %}
              {% if i == current_page %}
              <li class="page-item active">
                <a class="page-link" href="?page={{i}}&price_range={{price_range}}">{{i}}</a>
              </li>
              {% else %}
              <li class="page-item">
                <a class="page-link" href="?page={{i}}&price_range={{price_range}}">{{i}}</a>
              </li>
              {% endif %}
              {% endfor %}
              {% if pagenator_object.has_next %}
              <li class="page-item"><a class="page-link" href="?page={{pagenator_object.next_page_number}}&price_range={{price_range}}">Next</a></li>
              <li class="page-item"><a class="page-link" href="?page={{last_page}}&price_range={{price_range}}">Last &rarr;</a></li>
              {% endif %}

            </ul>
            {% else %}
            <ul class="pagination justify-content-center">

              {% if pagenator_object.has_previous %}
              <li class="page-item">
                <a class="page-link" href="?page=1">&larr; First</a>
              </li>
              <li class="page-item">
                <a class="page-link" href="?page={{pagenator_object.previous_page_number}}">Previous</a>
              </li>
              {% endif %}

              {% for i in page_list %}
              {% if i == current_page %}
              <li class="page-item active">
                <a class="page-link" href="?page={{i}}">{{i}}</a>
              </li>
              {% else %}
              <li class="page-item">
                <a class="page-link" href="?page={{i}}">{{i}}</a>
              </li>
              {% endif %}
              {% endfor %}
              {% if pagenator_object.has_next %}
              <li class="page-item"><a class="page-link" href="?page={{pagenator_object.next_page_number}}">Next</a></li>
              <li class="page-item"><a class="page-link" href="?page={{last_page}}">Last &rarr;</a></li>
              {% endif %}

            </ul>
            {% endif %}
          </nav>
        </div>
      </div>
    </div>
    <!-- Shop Product End -->
  </div>
</div>
<!-- Shop End -->

{% endblock %}
